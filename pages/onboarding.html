<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ - Cicada</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        body { background: #0B0E11; color: #fff; display: flex; justify-content: center; align-items: center; min-height: 100vh; font-family: 'Inter', sans-serif; margin: 0; }
        .onboarding-card { background: #1E2329; width: 90%; max-width: 550px; padding: 30px; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); position: relative; border: 1px solid #2B3139; }
        
        /* Steps UI */
        .steps-header { display: flex; justify-content: space-between; margin-bottom: 30px; position: relative; }
        .step-indicator { width: 35px; height: 35px; background: #2B3139; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-weight: bold; z-index: 2; transition: 0.3s; font-size: 0.9rem; }
        .step-indicator.active { background: #F0B90B; color: #000; box-shadow: 0 0 10px rgba(240, 185, 11, 0.4); }
        .step-indicator.completed { background: #0ECB81; color: #fff; }
        .steps-line { position: absolute; top: 50%; left: 0; width: 100%; height: 2px; background: #2B3139; z-index: 1; transform: translateY(-50%); }
        .progress-line { position: absolute; top: 50%; left: 0; height: 2px; background: #F0B90B; z-index: 1; transform: translateY(-50%); width: 0%; transition: 0.3s; }
        
        /* Form UI */
        .step-content { display: none; animation: fadeIn 0.4s ease-out; }
        .step-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        h2 { margin-top: 0; margin-bottom: 10px; font-size: 1.5rem; color: #fff; }
        p.desc { color: #848E9C; font-size: 0.9rem; margin-bottom: 25px; line-height: 1.5; }

        .form-group { margin-bottom: 15px; }
        .form-label { display: block; margin-bottom: 8px; color: #EAECEF; font-size: 0.9rem; }
        .form-input, .form-select { width: 100%; padding: 12px; background: #0B0E11; border: 1px solid #2B3139; color: #fff; border-radius: 8px; box-sizing: border-box; font-family: inherit; transition: 0.3s; }
        .form-input:focus, .form-select:focus { border-color: #F0B90B; outline: none; }
        
        /* Upload & Radio Box */
        .radio-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; }
        .radio-box { background: #0B0E11; padding: 15px; border-radius: 8px; border: 1px solid #2B3139; cursor: pointer; text-align: center; transition: 0.2s; }
        .radio-box:hover { border-color: #888; }
        .radio-box input:checked + div { color: #F0B90B; }
        .radio-box input:checked + div i { color: #F0B90B; }
        
        .upload-box { border: 2px dashed #2B3139; padding: 30px; text-align: center; border-radius: 8px; cursor: pointer; transition: 0.3s; background: rgba(255,255,255,0.02); }
        .upload-box:hover { border-color: #F0B90B; background: rgba(240, 185, 11, 0.05); }
        .upload-icon { font-size: 2rem; color: #848E9C; margin-bottom: 10px; }
        
        .btn-action { width: 100%; padding: 14px; background: #F0B90B; color: #000; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; margin-top: 25px; font-size: 1rem; transition: 0.2s; }
        .btn-action:hover { background: #d0a009; }
        .btn-action:disabled { background: #444; color: #888; cursor: not-allowed; }
        .btn-prev { background: transparent; color: #848E9C; border: 1px solid #2B3139; margin-top: 10px; }
        .btn-prev:hover { border-color: #fff; color: #fff; background: transparent; }
    </style>
</head>
<body>

    <div class="onboarding-card">
        <!-- Progress Steps -->
        <div class="steps-header">
            <div class="steps-line"></div>
            <div class="progress-line" id="progressLine"></div>
            <div class="step-indicator active" id="ind1">1</div>
            <div class="step-indicator" id="ind2">2</div>
            <div class="step-indicator" id="ind3">3</div>
            <div class="step-indicator" id="ind4">4</div>
        </div>

        <form id="onboardingForm">
            <!-- Step 1: Personal Info -->
            <div class="step-content active" id="step1">
                <h2>Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ©</h2>
                <p class="desc">Ø£ÙƒÙ…Ù„ Ù…Ù„ÙÙƒ Ø§Ù„Ø´Ø®ØµÙŠ Ù„Ù†ØªÙ…ÙƒÙ† Ù…Ù† ØªÙ‚Ø¯ÙŠÙ… Ø£ÙØ¶Ù„ Ø§Ù„Ø®Ø·Ø· Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±ÙŠØ© Ù„Ùƒ.</p>

                <div class="form-group">
                    <label class="form-label">Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙƒØ§Ù…Ù„</label>
                    <input type="text" class="form-input" id="address" required placeholder="Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©ØŒ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©">
                </div>
                <div class="form-group">
                    <label class="form-label">ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯</label>
                    <input type="date" class="form-input" id="dob" required>
                </div>
                <div class="form-group">
                    <label class="form-label">ÙƒÙ… Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ Ù„Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±ØŸ</label>
                    <select class="form-select" id="investmentAmount">
                        <option value="50-500">$50 - $500</option>
                        <option value="500-2000">$500 - $2,000</option>
                        <option value="2000+">Ø£ÙƒØ«Ø± Ù…Ù† $2,000</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø®Ø¨Ø±Ø© ÙÙŠ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±</label>
                    <select class="form-select" id="experience">
                        <option value="beginner">Ù…Ø¨ØªØ¯Ø¦</option>
                        <option value="intermediate">Ù…ØªÙˆØ³Ø·</option>
                        <option value="expert">Ø®Ø¨ÙŠØ±</option>
                    </select>
                </div>
                <button type="button" class="btn-action" onclick="nextStep(2)">Ø§Ù„ØªØ§Ù„ÙŠ</button>
            </div>

            <!-- Step 2: KYC Type -->
            <div class="step-content" id="step2">
                <h2>ØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ù‡ÙˆÙŠØ© (KYC)</h2>
                <p class="desc">Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¯ÙˆÙ„Ø© ÙˆÙ†ÙˆØ¹ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø© Ø§Ù„ØªÙŠ Ø³ØªØ³ØªØ®Ø¯Ù…Ù‡Ø§ Ù„Ù„ØªÙˆØ«ÙŠÙ‚.</p>

                <div class="form-group">
                    <label class="form-label">Ø§Ù„Ø¯ÙˆÙ„Ø©</label>
                    <select class="form-select" id="country">
                        <option value="SA">Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© ğŸ‡¸ğŸ‡¦</option>
                        <option value="AE">Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª ğŸ‡¦ğŸ‡ª</option>
                        <option value="KW">Ø§Ù„ÙƒÙˆÙŠØª ğŸ‡°ğŸ‡¼</option>
                        <option value="QA">Ù‚Ø·Ø± ğŸ‡¶ğŸ‡¦</option>
                        <option value="BH">Ø§Ù„Ø¨Ø­Ø±ÙŠÙ† ğŸ‡§ğŸ‡­</option>
                        <option value="EG">Ù…ØµØ± ğŸ‡ªğŸ‡¬</option>
                        <option value="DZ">Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± ğŸ‡©ğŸ‡¿</option>
                        <option value="other">Ø£Ø®Ø±Ù‰</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Ù†ÙˆØ¹ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø©</label>
                    <div class="radio-grid">
                        <label class="radio-box">
                            <input type="radio" name="docType" value="passport" checked hidden>
                            <div><i class="fas fa-passport fa-lg"></i><br><small>Ø¬ÙˆØ§Ø² Ø³ÙØ±</small></div>
                        </label>
                        <label class="radio-box">
                            <input type="radio" name="docType" value="id_card" hidden>
                            <div><i class="fas fa-id-card fa-lg"></i><br><small>Ù‡ÙˆÙŠØ© ÙˆØ·Ù†ÙŠØ©</small></div>
                        </label>
                        <label class="radio-box">
                            <input type="radio" name="docType" value="license" hidden>
                            <div><i class="fas fa-car fa-lg"></i><br><small>Ø±Ø®ØµØ© Ù‚ÙŠØ§Ø¯Ø©</small></div>
                        </label>
                    </div>
                </div>
                <button type="button" class="btn-action" onclick="nextStep(3)">Ø§Ù„ØªØ§Ù„ÙŠ</button>
                <button type="button" class="btn-action btn-prev" onclick="prevStep(1)">Ø±Ø¬ÙˆØ¹</button>
            </div>

            <!-- Step 3: Upload -->
            <div class="step-content" id="step3">
                <h2>Ø±ÙØ¹ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚</h2>
                <p class="desc">Ù‚Ù… Ø¨ØªØµÙˆÙŠØ± Ø£Ùˆ Ø±ÙØ¹ ØµÙˆØ±Ø© ÙˆØ§Ø¶Ø­Ø© Ù„Ù„ÙˆØ«ÙŠÙ‚Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©.</p>

                <div class="form-group">
                    <label class="form-label">Ø§Ù„ÙˆØ¬Ù‡ Ø§Ù„Ø£Ù…Ø§Ù…ÙŠ</label>
                    <div class="upload-box" onclick="document.getElementById('docFront').click()">
                        <i class="fas fa-camera upload-icon"></i>
                        <p id="docFrontText" style="margin:0; font-size:0.9rem;">Ø§Ø¶ØºØ· Ù„Ù„Ø§Ù„ØªÙ‚Ø§Ø· Ø£Ùˆ Ø§Ù„Ø±ÙØ¹</p>
                        <input type="file" id="docFront" hidden accept="image/*" capture="environment">
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Ø§Ù„ÙˆØ¬Ù‡ Ø§Ù„Ø®Ù„ÙÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ Ù„Ù„Ø¬ÙˆØ§Ø²)</label>
                    <div class="upload-box" onclick="document.getElementById('docBack').click()">
                        <i class="fas fa-camera upload-icon"></i>
                        <p id="docBackText" style="margin:0; font-size:0.9rem;">Ø§Ø¶ØºØ· Ù„Ù„Ø§Ù„ØªÙ‚Ø§Ø· Ø£Ùˆ Ø§Ù„Ø±ÙØ¹</p>
                        <input type="file" id="docBack" hidden accept="image/*" capture="environment">
                    </div>
                </div>

                <button type="button" class="btn-action" onclick="nextStep(4)">Ø§Ù„ØªØ§Ù„ÙŠ</button>
                <button type="button" class="btn-action btn-prev" onclick="prevStep(2)">Ø±Ø¬ÙˆØ¹</button>
            </div>

            <!-- Step 4: Selfie -->
            <div class="step-content" id="step4">
                <h2>Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ÙˆØ¬Ù‡</h2>
                <p class="desc">Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø£Ø®ÙŠØ±Ø©! Ø§Ù„ØªÙ‚Ø· ØµÙˆØ±Ø© Ø³ÙŠÙ„ÙÙŠ Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ù‡ÙˆÙŠØªÙƒ.</p>

                <div class="upload-box" style="padding: 50px 20px;" onclick="document.getElementById('selfie').click()">
                    <i class="fas fa-user-check upload-icon" id="faceIcon" style="font-size:3rem;"></i>
                    <p id="faceText" style="margin-top:15px;">Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„ÙØªØ­ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§</p>
                    <input type="file" id="selfie" hidden accept="image/*" capture="user">
                </div>

                <button type="submit" class="btn-action" id="finishBtn">Ø¥ÙƒÙ…Ø§Ù„ ÙˆØ¥Ø±Ø³Ø§Ù„</button>
                <button type="button" class="btn-action btn-prev" onclick="prevStep(3)">Ø±Ø¬ÙˆØ¹</button>
            </div>
        </form>
    </div>

    <script type="module" src="../scripts/onboarding.js"></script>
    <script>
        // UI Logic (Non-Module for direct interaction)
        let currentStep = 1;

        window.nextStep = (step) => {
            // Simple validation
            if(step === 2) {
                if(!document.getElementById('address').value || !document.getElementById('dob').value) {
                    alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');
                    return;
                }
            }
            if(step === 4) {
                 // Check if file uploaded (Optional check logic)
                 // if(document.getElementById('docFront').files.length === 0) { alert('ÙŠØ¬Ø¨ Ø±ÙØ¹ ØµÙˆØ±Ø© Ø§Ù„ÙˆØ«ÙŠÙ‚Ø©'); return; }
            }

            document.querySelectorAll('.step-content').forEach(el => el.classList.remove('active'));
            document.getElementById('step' + step).classList.add('active');
            
            // Update Indicators
            document.querySelectorAll('.step-indicator').forEach((el, idx) => {
                if(idx + 1 < step) {
                    el.classList.add('completed');
                    el.innerHTML = '<i class="fas fa-check"></i>';
                } else if(idx + 1 === step) {
                    el.classList.add('active');
                    el.classList.remove('completed');
                    el.innerHTML = idx + 1;
                } else {
                    el.classList.remove('active', 'completed');
                    el.innerHTML = idx + 1;
                }
            });

            // Update Line
            const percent = ((step - 1) / 3) * 100;
            document.getElementById('progressLine').style.width = percent + '%';
            currentStep = step;
        };

        window.prevStep = (step) => {
            window.nextStep(step); // Reuse same logic
        };

        // File Input Helpers
        function setupFileInput(id, textId) {
            document.getElementById(id).addEventListener('change', function() {
                if(this.files && this.files[0]) {
                    document.getElementById(textId).textContent = "âœ… ØªÙ… Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±: " + this.files[0].name;
                    document.getElementById(textId).style.color = "#0ECB81";
                }
            });
        }
        setupFileInput('docFront', 'docFrontText');
        setupFileInput('docBack', 'docBackText');
        
        document.getElementById('selfie').addEventListener('change', function() {
            if(this.files && this.files[0]) {
                document.getElementById('faceText').textContent = "âœ… ØªÙ… Ø§Ù„ØªÙ‚Ø§Ø· Ø§Ù„Ø³ÙŠÙ„ÙÙŠ";
                document.getElementById('faceIcon').style.color = "#0ECB81";
            }
        });
    </script>
</body>
</html>
